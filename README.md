# Социальная сеть для обмена фотографиями

## Описание проекта

Данный backend предназначен для социальной сети, где пользователи могут публиковать посты, комментировать их и ставить лайки. Посты включают текст, изображение и время создания. Система поддерживает авторизацию пользователей, и действия над постами и комментариями ограничены их авторами.

## Функциональность

### 1. Публикации:

- Создание постов, содержащих текст и изображение.
- Только автор поста может редактировать или удалять его.
- Сохранение времени создания поста.

### 2. Комментарии:

- Пользователи могут оставлять комментарии к публикациям.
- Комментарии содержат текст и время создания.
- Только автор комментария может редактировать или удалять его.
  
### 3. Лайки:

- Пользователи могут ставить и убирать лайки на постах.
- Счётчик лайков отображается в деталях публикации.
  
### 4. Детали публикации:

- Включают текст, изображение, время создания, список комментариев и количество лайков.

## Установка

*1. Клонируйте репозиторий:*

```bash
git clone <URL>
cd <папка_проекта>
```
  
*2. Установите зависимости:*

```bash
pip install -r requirements.txt
```
  
*3. Выполните миграции:*

```bash
python manage.py makemigrations
python manage.py migrate
```
  
*4. Создайте суперпользователя:*

```bash
python manage.py createsuperuser
```
  
*5. Запустите сервер разработки:*

```bash
python manage.py runserver
```
  
## API Эндпоинты

Для всех запросов, требующих авторизации, необходимо передавать токен в заголовке:
```bash
Authorization: Token <ваш_токен>
```
  
## Публикации

*1. Получить список постов*
- URL: GET /posts/
- Описание: Возвращает список всех публикаций.

*2. Создать пост*
- URL: POST /posts/
- Описание: Создаёт новый пост (требуется авторизация).
- Тело запроса (form-data):
  
  *text (строка): Текст поста.*
 
  *image (файл): Изображение.*

*3. Получить детали поста*
- URL: GET /posts/{id}/
- Описание: Возвращает детали публикации.
  
*4. Редактировать пост*
- URL: PATCH /posts/{id}/
- Описание: Обновляет текст, изображение или текст и изображение одновременно (только автор поста).
- Тело запроса:
  
  *text: Обновлённый текст.*
  
  *image: Обновлённое изображение.*
  
*5. Удалить пост*
- URL: DELETE /posts/{id}/
- Описание: Удаляет пост (только автор поста).
  
*6. Поставить или убрать лайк*
- URL: POST /posts/{id}/like/
- Описание: Ставит или убирает лайк на посте.

## Комментарии

*1. Добавить комментарий*
- URL: POST /comments/
- Описание: Создаёт комментарий к посту (требуется авторизация).
- Тело запроса:
  
  *post (ID): ID поста.*
  
  *text (строка): Текст комментария.*

*2. Редактировать комментарий*
- URL: PATCH /comments/{id}/
- Описание: Обновляет комментарий (только автор).
  
*3. Удалить комментарий*
- URL: DELETE /comments/{id}/
- Описание: Удаляет комментарий (только автор).
  
## Тестирование

1. Для тестирования запросов можно использовать Postman или cURL.
2. Убедитесь, что вы передаёте токен авторизации в заголовке:

```bash
Authorization: Token <ваш_токен>
```

## Пример использования cURL

- Создание поста:

```bash 
curl -X POST http://127.0.0.1:8000/posts/ \
-H "Authorization: Token abc123xyz456" \
-F "text=Пример текста" \
-F "image=@/path/to/image.jpg"
```
- Получение списка постов:
  
```bash
curl -X GET http://127.0.0.1:8000/posts/ \
-H "Authorization: Token abc123xyz456"
```
